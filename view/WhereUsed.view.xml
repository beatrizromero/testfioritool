<mvc:View controllerName="Coty.RawMaterial.controller.WhereUsed" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m">
    <Page enableScrolling="false">
        <customHeader>
			<Bar>
				<contentLeft>
					<Button icon="sap-icon://nav-back" press="onBtnPressNavBack"/>
				</contentLeft>
				<contentMiddle>
					<Title text="{i18n>title}" titleStyle="H1"/>
				</contentMiddle>
				<contentRight />
			</Bar>
		</customHeader>
		<subHeader>
			<OverflowToolbar>
				<Text text="{dataModel>/MaterialSelected/ARAWMATERIALSPECNUMBER} {dataModel>/MaterialSelected/AINCINAME} {i18n>where_used_header}" maxLines="2" class="fontTitle sapUiLargeMargin" width="100%" />
            </OverflowToolbar>
		</subHeader>
        <content>
            <ScrollContainer height="90%" width="auto" horizontal="false" vertical="true" focusable="true" class="sapUiLargeMarginBeginEnd sapUiSmallMarginTopBottom">
                <Table items="{dataModel>/Ingredients}" sticky="HeaderToolbar,InfoToolbar,ColumnHeaders">
                    <columns>
                        <Column>
                            <Text text="{i18n>where_used_spec}" />
                        </Column>
                        <Column>
                            <Text text="{i18n>where_used_description}" />
                        </Column>
                        <Column>
                            <Text text="{i18n>where_used_type}" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Link text="{= !!${dataModel>FORMULATION_NAME} ? ${dataModel>FORMULATION_NAME} : (!!${dataModel>ATPM_FORMULA_ID} ? ${dataModel>ATPM_FORMULA_ID} : ${dataModel>RAWMATERIAL_NUMBER})}" press="onPressMaterial"/>
                                <Text text="{= !!${dataModel>APREFERREDNAME} ? ${dataModel>APREFERREDNAME} : ${dataModel>AFORMULANAME}}"/> 
                                <Text text="{dataModel>Type}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </ScrollContainer>
        </content>
    </Page>
</mvc:View>
